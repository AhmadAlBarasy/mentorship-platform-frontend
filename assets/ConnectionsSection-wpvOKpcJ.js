import{j as e,D as l}from"./index-xgS4Epe1.js";import{j as d,k as p}from"./useSettings-DStPhq7v.js";const m="292275570167-sf31bp61n116gho490r3orp2e2krgr9a.apps.googleusercontent.com",x=encodeURIComponent("https://mentorship-platform-api-production.up.railway.app/api/v1/auth/google-callback"),g=encodeURIComponent("openid email profile https://www.googleapis.com/auth/calendar"),h="code",u="offline",y="consent",f=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${m}&redirect_uri=${x}&response_type=${h}&scope=${g}&access_type=${u}&prompt=${y}`;function b(){var r;const{refetch:a,data:t,isLoading:c}=d(),i=p(),s=(r=t==null?void 0:t.appConnections)==null?void 0:r.GoogleCalendar,o=s==null?void 0:s.connected,n=s==null?void 0:s.email;return e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"App Connections"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Connect your account to external apps like Google Calendar."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:e.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a5/Google_Calendar_icon_%282020%29.svg",alt:"Google Calendar",className:"w-10 h-10"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Google Calendar"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Sync sessions with your Google calendar"}),o&&n&&e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Connected as:"," ",e.jsx("span",{className:"font-medium",children:n})]})]})]}),c?e.jsx(l,{}):o?e.jsx("a",{onClick:async()=>{i.mutate("GoogleCalendar"),await a()},href:"",className:"ml-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-md text-sm font-medium transition-colors",children:"Disconnect"}):e.jsx("a",{onClick:a,href:f,className:"ml-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md text-sm font-medium transition-colors",children:"Connect"})]})})]})}export{b as default};
