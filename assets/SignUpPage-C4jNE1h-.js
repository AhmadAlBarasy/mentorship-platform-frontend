import{c as j,r as f,h as k,u as w,d as v,j as e,L as N,F as o,v as l,i as S,U as C,S as P,k as m}from"./index-LVqQbxJv.js";import{P as A}from"./PasswordStrengthIndicator-DAnw1pHv.js";import{L as E}from"./Logo-CZRI7zCG.js";/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],M=j("user-check",L);function I(){const[d,u]=f.useState(""),{register:s,handleSubmit:x,watch:g,setValue:h,formState:{errors:r,isSubmitting:c}}=k({defaultValues:{name:"",id:"",email:"",headline:"",password:"",country:"",role:""}}),{signup:n,status:F,setStatus:R}=w(),b=g("password",""),y=v(),i=a=>{u(a),h("role",a,{shouldValidate:!0})},p=async a=>{try{const t=await n.mutateAsync(a);t.status==="Success"&&y("/successful-registration",{state:{email:(t==null?void 0:t.email)||a.email}})}catch(t){console.error("Signup failed:",t)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(E,{withLink:!0})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-gray-900 dark:text-white",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300",children:["Already have an account?"," ",e.jsx(N,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10",children:e.jsxs("form",{className:"space-y-6",onSubmit:x(p),children:[e.jsx(o,{label:"Full Name",name:"name",placeholder:"Enter your full name",register:s,error:r.name,rules:l.name}),e.jsx(o,{label:"Username",name:"id",placeholder:"Choose a username",register:s,error:r.id,rules:l.id}),e.jsx(o,{label:"Email Address",name:"email",type:"email",placeholder:"Enter your email",register:s,error:r.email,rules:l.email}),e.jsx(o,{label:"Professional Headline",name:"headline",placeholder:"e.g., Software Engineer at Google",register:s,error:r.headline,rules:l.headline}),e.jsx(o,{label:"Country",name:"country",register:s,error:r.country,rules:l.country,children:e.jsxs("select",{...s("country",l.country),className:`w-full px-3 py-2 border rounded-md shadow-sm bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${r.country?"border-red-300":"border-gray-300 dark:border-gray-600"}`,children:[e.jsx("option",{value:"",children:"Select your country"}),Object.entries(S).map(([a,t])=>e.jsx("option",{value:a,children:t},a))]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"I want to join as"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>i("mentee"),className:`p-4 border-2 rounded-lg text-center transition-all ${d==="mentee"?"border-blue-500 bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[e.jsx(C,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("div",{className:"font-medium",children:"Mentee"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Seeking guidance"})]}),e.jsxs("button",{type:"button",onClick:()=>i("mentor"),className:`p-4 border-2 rounded-lg text-center transition-all ${d==="mentor"?"border-green-500 bg-green-50 dark:bg-green-900 text-green-700 dark:text-green-300":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[e.jsx(M,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("div",{className:"font-medium",children:"Mentor"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Sharing expertise"})]}),e.jsxs("button",{type:"button",onClick:()=>i("community_manager"),className:`p-4 border-2 rounded-lg text-center transition-all ${d==="community_manager"?"border-purple-500 bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-300":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[e.jsx(P,{className:"w-6 h-6 mx-auto mb-2"}),e.jsx("div",{className:"font-medium",children:"Community Manager"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Managing communities"})]})]}),e.jsx("input",{type:"hidden",...s("role",l.role),value:d}),r.role&&e.jsxs("div",{className:"flex items-center space-x-1 text-red-600 dark:text-red-400 text-sm",children:[e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{children:r.role.message})]})]}),e.jsx(o,{label:"Password",name:"password",type:"password",placeholder:"Create a strong password",register:s,error:r.password,rules:l.password,showPasswordToggle:!0}),e.jsx(A,{password:b}),e.jsx("button",{type:"submit",disabled:c||n.isPending,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c||n.isPending?"Creating Account...":"Create Account"}),n.error&&e.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(m,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("div",{className:"text-sm text-red-700 dark:text-red-200",children:n.error.message})})]})})]})})})]})}export{I as default};
